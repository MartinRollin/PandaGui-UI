<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="css/PageTest2.css" />
  </head>
  <body onload="init();">
    <span class="bouton"><a href="index.html">redirection</a></span>
    <div
      id="draggable"
      draggable="true"
      ondragstart="event.dataTransfer.setData('text/plain',null)"
    >
      This div is draggable
    </div>
    <div class="dropzone" dropzone="move"></div>
    <div class="dropzone" dropzone="move"></div>
    <div class="dropzone" dropzone="move"></div>
    <div class="dropzone" dropzone="move"></div>
    <div class="dropzone" dropzone="move"></div>
    <div class="dropzone" dropzone="move"></div>
    <div id="Texte" class="Texte" draggable="true">
      <button
        class="favorite styled"
        type="button"
        ondragstart="dragstart_handler(event);"
      >
        Add to favorites
      </button>
      « Texte » est issu du mot latin « textum », dérivé du verbe « texere » qui
      signifie « tisser ». Le mot s'applique à l'entrelacement des fibres
      utilisées dans le tissage, voir par exemple Ovide : « Quo super iniecit
      textum rude sedula Baucis = (un siège) sur lequel Baucis empressée avait
      jeté un tissu grossier »2 ou au tressage (exemple chez Martial « Vimineum
      textum = panier d'osier tressé »). Le verbe a aussi le sens large de
      construire comme dans « basilicam texere = construire une basilique » chez
      Cicéron3.
    </div>
  </body>
  <script type="text/javascript">
    document.getElementById("Texte").addEventListener("onclick", function() {
      alert("hello");
    });
    function dragstart_handler(ev) {
      // On ajoute l'identifiant de l'élément cible à l'objet de transfert
      ev.dataTransfer.setData("text/plain", ev.target.innerText);
    }

    var dragged;

    /* events fired on the draggable target */
    document.addEventListener("drag", function(event) {}, false);

    document.addEventListener(
      "dragstart",
      function(event) {
        // store a ref. on the dragged elem
        dragged = event.target;
        // make it half transparent
        event.target.style.opacity = 0.5;
      },
      false
    );

    document.addEventListener(
      "dragend",
      function(event) {
        // reset the transparency
        event.target.style.opacity = "";
      },
      false
    );

    /* events fired on the drop targets */
    document.addEventListener(
      "dragover",
      function(event) {
        // prevent default to allow drop
        event.preventDefault();
      },
      false
    );

    document.addEventListener(
      "dragenter",
      function(event) {
        // highlight potential drop target when the draggable element enters it
        if (event.target.className == "dropzone") {
          event.target.style.background = "purple";
        }
      },
      false
    );

    document.addEventListener(
      "dragleave",
      function(event) {
        // reset background of potential drop target when the draggable element leaves it
        if (event.target.className == "dropzone") {
          event.target.style.background = "";
        }
      },
      false
    );

    document.addEventListener(
      "drop",
      function(event) {
        // prevent default action (open as link for some elements)
        event.preventDefault();
        // move dragged elem to the selected drop target
        if (event.target.className == "dropzone") {
          event.target.style.background = "";
          dragged.parentNode.removeChild(dragged);
          event.target.appendChild(dragged);
        }
      },
      false
    );
  </script>
</html>
